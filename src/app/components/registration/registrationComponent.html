<div [hidden]="submitted">
  <h1>Donor</h1>
  <form *ngIf="active" #registrationForm="ngForm">

    <div class="form-group">
      <label for="firstName">First Name</label>
      <input type="text" class="form-control" required
        [(ngModel)]="model.firstName"
          ngControl="firstName"  #firstName="ngForm" >
      <div [hidden]="firstName.valid || firstName.pristine" class="alert alert-danger">
        First name is required
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input type="text" class="form-control" required
        [(ngModel)]="model.lastName"
          ngControl="lastName"  #lastName="ngForm" >
      <div [hidden]="lastName.valid || lastName.pristine" class="alert alert-danger">
        Last name is required
      </div>
    </div>

    <div class="form-group">
      <label for="telephone">Telephone</label>
      <input type="text" class="form-control" required
        [(ngModel)]="model.telephone"
          ngControl="telephone"  #telephone="ngForm" >
      <div [hidden]="telephone.valid || telephone.pristine" class="alert alert-danger">
        Telephone is required
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" required
        [(ngModel)]="model.email"
          ngControl="email"  #email="ngForm" >
      <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
        Email is required
      </div>
    </div>

    <div class="form-group">
      <label for="bloodGroup">Blood Group</label>
      <select class="form-control" required
        [(ngModel)]="model.bloodGroup"
          ngControl="bloodGroup" #power="ngForm" >
        <option *ngFor="#group of bloodGroup" [value]="group">{{group}}</option>
      </select>
      <div [hidden]="power.valid || power.pristine" class="alert alert-danger">
        Blood Group is required
      </div>
    </div>
    <button class="btn btn-default" (click)="onRegister()" [hidden]="registrationForm.action==='register'" [disabled]="!registrationForm.form.valid">Submit</button>
    <button class="btn btn-default" (click)="onUpdate()" [hidden]="registrationForm.action==='edit'" [disabled]="!registrationForm.form.valid">Update</button>
    <button class="btn btn-default" (click)="onDelete()" [hidden]="registrationForm.action==='edit'" [disabled]="!registrationForm.form.valid">Delete</button>
  </form>
</div>
<div [hidden]="!submitted" class="donor-recap">
  <h2>Congratulations! You just become a donor.</h2>
  <p>You can edit your profile by following your personal link:
    <a href="#" [routerLink]="['UserProfile',{id:userId}]" router-params="">/user/{{userId}}</a>
  </p>
  <h3>Your personal data</h3>
  <div class="row">
    <div class="col-xs-3">First Name</div>
    <div class="col-xs-9  pull-left">{{ model.firstName }}</div>
  </div>
  <div class="row">
    <div class="col-xs-3">Last Name</div>
    <div class="col-xs-9 pull-left">{{ model.lastName }}</div>
  </div>
  <div class="row">
    <div class="col-xs-3">Telephone</div>
    <div class="col-xs-9 pull-left">{{ model.telephone }}</div>
  </div>
  <div class="row">
    <div class="col-xs-3">Email</div>
    <div class="col-xs-9 pull-left">{{ model.email }}</div>
  </div>
  <div class="row">
    <div class="col-xs-3">Blood Group</div>
    <div class="col-xs-9 pull-left">{{ model.bloodGroup }}</div>
  </div>
</div>